---
description: TypeScript standards for the Playwright project
globs: **/*.ts
alwaysApply: false
---

# TypeScript Standards

## Types

- Use `Page`, `Locator`, `APIRequestContext`, `APIResponse` from `@playwright/test`; do not redefine them.
- Add explicit return types for public methods (e.g. `Promise<void>`, `Promise<APIResponse>`).
- Define shared data shapes in `types/` (e.g. `checkoutTypes.ts`) and import them in specs and pages.
- Avoid `any`; use `unknown` and type guards if type is truly dynamic.

## Async & Promises

- Use `async/await`; avoid raw `.then()` in test and page code.
- In fixture extensions, use `async ({ page }, use) => { ... await use(pageObject); }` and ensure cleanup after `use()`.

## Imports

- Use path aliases or relative imports consistently; prefer `@playwright/test` for test types and `Page`/`Locator`.
- Default-export page and component classes; named exports for types and utilities.

## Error handling

- In support/fixture code, handle errors explicitly; in tests, let assertions fail and use `failOnStatusCode` or `expect` for API calls.
