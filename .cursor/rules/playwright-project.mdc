---
description: Playwright project structure, fixture, and conventions
alwaysApply: true
---

# Playwright Project Conventions

## Structure

- **Tests**: `tests/*.spec.ts` — use custom `test` from `fixture.ts`, not `@playwright/test` directly for E2E.
- **Pages**: `app/pages/` — one folder per page: `PageName.ts` + `PageNameLocators.ts` (or `BaseLocators.ts` for base).
- **Components**: `app/components/` — one folder per component: `ComponentName.ts` + `ComponentNameLocators.ts`.
- **Shared**: `fixture.ts` (extended test + page object fixtures), `support.ts` (helpers, auth), `types/` for shared types.

## Fixture

- Import test as: `import { test } from '../fixture'` (or correct path from `tests/`).
- Use fixture-injected page objects (e.g. `homePage`, `productPage`, `checkoutPage`) instead of constructing them in tests.
- For auth: `test.use({ userToLogin: { email, password } })` and optional `logOutAfterTest` fixture.

## Playwright API

- Prefer `baseURL` in config and relative URLs in `page.goto()` / `navigateTo()`.
- Use `Locator` and `Page` from `@playwright/test`; avoid raw `page.locator()` in page/component classes when a dedicated locators class exists.
- Prefer role-based selectors: `getByRole()`, `getByLabel()`, `getByText()` over CSS when possible.
